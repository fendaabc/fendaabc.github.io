<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>RedisNote | 芬达里没有泡泡</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 5.2.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">RedisNote</h1><a id="logo" href="/.">芬达里没有泡泡</a><p class="description">来杯可乐,不加糖</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">RedisNote</h1><div class="post-meta">2021-03-03<script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 5.3k</span><span class="post-meta-item-text"> 字</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i><span class="post-count"> 22</span><span class="post-meta-item-text"> 分钟</span></span></span></div><a class="disqus-comment-count" data-disqus-identifier="2021/03/03/RedisNote/" href="/2021/03/03/RedisNote/#disqus_thread"></a><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Nosql"><span class="toc-number">1.</span> <span class="toc-text">Nosql</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Nosql%E7%9A%84%E5%9B%9B%E5%A4%A7%E5%88%86%E7%B1%BB%EF%BC%9A"><span class="toc-number">1.1.</span> <span class="toc-text">Nosql的四大分类：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#KV%E9%94%AE%E5%80%BC%E5%AF%B9%EF%BC%9A"><span class="toc-number">1.1.1.</span> <span class="toc-text">KV键值对：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E6%A1%A3%E6%80%A7%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88bson%E6%A0%BC%E5%BC%8F%E5%92%8Cjson%E6%A0%BC%E5%BC%8F%E4%B8%80%E6%A0%B7%EF%BC%89%EF%BC%9A"><span class="toc-number">1.1.2.</span> <span class="toc-text">文档性数据库（bson格式和json格式一样）：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%97%E5%AD%98%E5%82%A8%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.1.3.</span> <span class="toc-text">列存储数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.1.4.</span> <span class="toc-text">图关系数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E5%A4%A7%E5%88%86%E7%B1%BB%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-number">1.1.5.</span> <span class="toc-text">四大分类的对比</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Redis"><span class="toc-number">2.</span> <span class="toc-text">Redis</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%83%BD%E5%B9%B2%E5%90%97"><span class="toc-number">2.1.</span> <span class="toc-text">能干吗</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E6%80%A7%EF%BC%9A"><span class="toc-number">2.2.</span> <span class="toc-text">特性：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%EF%BC%9A"><span class="toc-number">2.3.</span> <span class="toc-text">配置：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%EF%BC%9A"><span class="toc-number">2.4.</span> <span class="toc-text">性能测试：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">2.5.</span> <span class="toc-text">基础知识</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RedisKey"><span class="toc-number">2.6.</span> <span class="toc-text">RedisKey</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.7.</span> <span class="toc-text">常见数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#String%EF%BC%88%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%89"><span class="toc-number">2.7.1.</span> <span class="toc-text">String（字符串）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#List"><span class="toc-number">2.7.2.</span> <span class="toc-text">List</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Set"><span class="toc-number">2.7.3.</span> <span class="toc-text">Set</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hash"><span class="toc-number">2.7.4.</span> <span class="toc-text">Hash</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Zset%EF%BC%88%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%EF%BC%89"><span class="toc-number">2.7.4.1.</span> <span class="toc-text">Zset（有序集合）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%A6%E2%80%A6"><span class="toc-number">2.7.4.2.</span> <span class="toc-text">……</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1"><span class="toc-number">2.8.</span> <span class="toc-text">事务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Jedis"><span class="toc-number">2.9.</span> <span class="toc-text">Jedis</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Springboot%E6%95%B4%E5%90%88"><span class="toc-number">2.10.</span> <span class="toc-text">Springboot整合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9C%8B%E6%BA%90%E7%A0%81%EF%BC%9A"><span class="toc-number">2.10.1.</span> <span class="toc-text">看源码：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis-conf"><span class="toc-number">2.11.</span> <span class="toc-text">Redis.conf</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis%E6%8C%81%E4%B9%85%E5%8C%96"><span class="toc-number">2.12.</span> <span class="toc-text">Redis持久化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#RDB%EF%BC%88Redis-Data-Base%EF%BC%89"><span class="toc-number">2.12.1.</span> <span class="toc-text">RDB（Redis Data Base）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AOF%EF%BC%88Append-Only-File%EF%BC%89"><span class="toc-number">2.12.2.</span> <span class="toc-text">AOF（Append Only File）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-number">2.12.3.</span> <span class="toc-text"></span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis%E7%9A%84%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6%EF%BC%9A"><span class="toc-number">2.13.</span> <span class="toc-text">Redis的主从复制：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E6%9C%BA%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="toc-number">2.13.1.</span> <span class="toc-text">单机环境配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Docker%E6%90%AD%E5%BB%BAredis%E9%9B%86%E7%BE%A4"><span class="toc-number">2.13.2.</span> <span class="toc-text">Docker搭建redis集群</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%86%E8%8A%82"><span class="toc-number">2.13.3.</span> <span class="toc-text">细节</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6%E5%8E%9F%E7%90%86"><span class="toc-number">2.13.4.</span> <span class="toc-text">主从复制原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%93%A8%E5%85%B5%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.13.5.</span> <span class="toc-text">哨兵模式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E7%A9%BF%E9%80%8F"><span class="toc-number">2.14.</span> <span class="toc-text">缓存穿透</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B31%EF%BC%9A%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-number">2.14.1.</span> <span class="toc-text">解决1：布隆过滤器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B32%EF%BC%9A%E7%BC%93%E5%AD%98%E7%A9%BA%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.14.2.</span> <span class="toc-text">解决2：缓存空对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF"><span class="toc-number">2.14.3.</span> <span class="toc-text">缓存击穿</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E9%9B%AA%E5%B4%A9"><span class="toc-number">2.15.</span> <span class="toc-text">缓存雪崩</span></a></li></ol></li></ol></div></div><div class="post-content"><h1 id="Nosql"><a href="#Nosql" class="headerlink" title="Nosql"></a>Nosql</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- 不仅仅是数据</span><br><span class="line">- 没有固定的查询语言</span><br><span class="line">- 键值对存储，列存储，文档存储，图形数据库（社交关系）</span><br><span class="line">- 最终一致性</span><br><span class="line">- CAP定理和BASE（异地多活）</span><br><span class="line">- 高性能，高可用，高可扩</span><br></pre></td></tr></table></figure>

<h2 id="Nosql的四大分类："><a href="#Nosql的四大分类：" class="headerlink" title="Nosql的四大分类："></a>Nosql的四大分类：</h2><h3 id="KV键值对："><a href="#KV键值对：" class="headerlink" title="KV键值对："></a>KV键值对：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis    或    redis+tair   或     redis+memecache</span><br></pre></td></tr></table></figure>

<h3 id="文档性数据库（bson格式和json格式一样）："><a href="#文档性数据库（bson格式和json格式一样）：" class="headerlink" title="文档性数据库（bson格式和json格式一样）："></a><strong>文档性数据库</strong>（bson格式和json格式一样）：</h3><ul>
<li>MongoDB（需掌握）<ul>
<li>是基于分布式文件存储的数据库，c++编写，主要处理大量的文档</li>
<li>mongdb是介于关系型数据库和菲关系型数据库中间的产品（是菲关系型数据库中最像关系型数据库的）</li>
</ul>
</li>
</ul>
<h3 id="列存储数据库"><a href="#列存储数据库" class="headerlink" title="列存储数据库"></a><strong>列存储数据库</strong></h3><ul>
<li>HBase</li>
<li>分布式文件系统</li>
</ul>
<h3 id="图关系数据库"><a href="#图关系数据库" class="headerlink" title="图关系数据库"></a><strong>图关系数据库</strong></h3><ul>
<li>拓扑图</li>
<li>Neo4j，infogrid</li>
</ul>
<h3 id="四大分类的对比"><a href="#四大分类的对比" class="headerlink" title="四大分类的对比"></a>四大分类的对比</h3><p><img src="https://i.loli.net/2021/03/03/wgaLzPVfcuKIieq.png" alt="image-20210303102453806">    </p>
<h1 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h1><blockquote>
<p>Redis（remote dictionary server） 远程字典服务</p>
</blockquote>
<h2 id="能干吗"><a href="#能干吗" class="headerlink" title="能干吗"></a><strong>能干吗</strong></h2><ol>
<li>内存存储、持久化（RDB AOF）</li>
<li>效率高，可以用于高速缓存</li>
<li>发布订阅系统</li>
<li>地图信息分析</li>
<li>计时器、计数器（浏览量 ）</li>
<li>。。。</li>
</ol>
<h2 id="特性："><a href="#特性：" class="headerlink" title="特性："></a><strong>特性</strong>：</h2><ol>
<li>多样的数据类型</li>
<li>持久化</li>
<li>集群</li>
<li>事务</li>
<li>。。。</li>
</ol>
<h2 id="配置："><a href="#配置：" class="headerlink" title="配置："></a><strong>配置</strong>：</h2><p>下载安装redis</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1. 先安装gcc-c++，视频教程使用yum安装的，但ubuntu20.04我无法安装，输入gcc -v发现不知道什么时候我已经安装了gcc了，所以就直接使用了</span><br><span class="line">2. make</span><br><span class="line">3. make install</span><br><span class="line">4. redis的默认安装路径“/usr/<span class="built_in">local</span>/bin”</span><br><span class="line">5. 将redis压缩包下的配置文件拷贝到<span class="built_in">local</span>下的bin目录下的自定义目录</span><br><span class="line">6. 启动redis，修改配置文件中的daemonize no为yes (用后台的方式启动)</span><br><span class="line">7. 回到bin目录，运行启动命令 redis-server redisconfig/redis.conf (上面刚配置的)</span><br><span class="line">8. 启动以后进行连接，redis-cli -p 6379  ,用ping测试一下看能否返回pong</span><br><span class="line">(我的启动的时候redis-cli -p 6379输入完光标闪烁没反应，然后我将conf和这块的端口都改成了6279进行启动)</span><br></pre></td></tr></table></figure>

<h2 id="性能测试："><a href="#性能测试：" class="headerlink" title="性能测试："></a>性能测试：</h2><p><strong>redis-benchmark 压力测试工具</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#测试：100个并发 每个10w个请求</span></span><br><span class="line">redis-benchmark -h localhost -p 6279 -c 100 -n 100000</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/03/03/C3XnDqleLPhFQ4y.png" alt="image-20210303122401611"></p>
<h2 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h2><p><img src="https://i.loli.net/2021/03/03/Iv7w9lxkuaZdJ5f.png" alt="image-20210303123007123"></p>
<p>总共16个数据库，通过select可以选择需要使用的库，然后用set name value存储，用get name进行取出，flushdb刷库将当前库清空，flushall清楚全部库。</p>
<p>keys * 查看所有的key，</p>
<h2 id="RedisKey"><a href="#RedisKey" class="headerlink" title="RedisKey"></a>RedisKey</h2><blockquote>
<p>set、get、move、keys *、expire key 时间（设置过期时间秒数）、ttl key（查看还有多久过期）、type key（查看key的类型）</p>
</blockquote>
<p><img src="https://i.loli.net/2021/03/03/LSRpqixcZoDh5zH.png" alt="image-20210303145750335"></p>
<h2 id="常见数据类型"><a href="#常见数据类型" class="headerlink" title="常见数据类型"></a>常见数据类型</h2><h3 id="String（字符串）"><a href="#String（字符串）" class="headerlink" title="String（字符串）"></a>String（字符串）</h3><p><img src="https://i.loli.net/2021/03/03/FTZNi3vpqOdhgs2.png" alt="image-20210303151217153"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#########################指定步长进行加减操作#############################</span></span><br><span class="line">127.0.0.1:6279[1]&gt; <span class="built_in">set</span> num 0                           <span class="comment">#设置</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6279[1]&gt; get num    						   <span class="comment">#获取</span></span><br><span class="line"><span class="string">&quot;0&quot;</span></span><br><span class="line">127.0.0.1:6279[1]&gt; incrby 2 num						   <span class="comment">#步长2，指定增量</span></span><br><span class="line">(error) ERR value is not an <span class="built_in">integer</span> or out of range</span><br><span class="line">127.0.0.1:6279[1]&gt; incrby  num 2</span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line">127.0.0.1:6279[1]&gt; incrby  num 2</span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">127.0.0.1:6279[1]&gt; decrby num 1							<span class="comment">#步长1，指定递减量</span></span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line">127.0.0.1:6279[1]&gt; decrby num 1</span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line"><span class="comment">#################################截取######################</span></span><br><span class="line">127.0.0.1:6279[1]&gt; <span class="built_in">set</span> key1 <span class="string">&quot;hello,xiaoming&quot;</span>			<span class="comment">#</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6279[1]&gt; get key1								</span><br><span class="line"><span class="string">&quot;hello,xiaoming&quot;</span></span><br><span class="line">127.0.0.1:6279[1]&gt; getrange key1 0 3					<span class="comment">#截取字符串[0,3]</span></span><br><span class="line"><span class="string">&quot;hell&quot;</span></span><br><span class="line">127.0.0.1:6279[1]&gt; getrange key1 0 -1					<span class="comment">#截取全部字符串</span></span><br><span class="line"><span class="string">&quot;hello,xiaoming&quot;</span></span><br><span class="line">127.0.0.1:6279[1]&gt; </span><br><span class="line"><span class="comment">##############################指定位置替换###############################</span></span><br><span class="line">127.0.0.1:6279[1]&gt; <span class="built_in">set</span> key2 abcdefg</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6279[1]&gt; get key2</span><br><span class="line"><span class="string">&quot;abcdefg&quot;</span></span><br><span class="line">127.0.0.1:6279[1]&gt; setrange key2 1 xx                 <span class="comment">#替换指定位置开始的字符串</span></span><br><span class="line">(<span class="built_in">integer</span>) 7</span><br><span class="line">127.0.0.1:6279[1]&gt; get key2</span><br><span class="line"><span class="string">&quot;axxdefg&quot;</span></span><br><span class="line"><span class="comment">#############################判断是否存在###############################</span></span><br><span class="line"><span class="comment">#setex （set with expire）   设置过期时间</span></span><br><span class="line"><span class="comment">#setnx  （set if not exist） 不存在就设置，返回1设置成功，否则返回0设置失败（分布式锁）</span></span><br><span class="line">127.0.0.1:6279[1]&gt; setex key3 30 <span class="string">&quot;hello&quot;</span>   <span class="comment">#设置key3为hello 30秒过期</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6279[1]&gt; ttl key3					</span><br><span class="line">(<span class="built_in">integer</span>) 26</span><br><span class="line">127.0.0.1:6279[1]&gt; get key3</span><br><span class="line"><span class="string">&quot;hello&quot;</span></span><br><span class="line">127.0.0.1:6279[1]&gt; setnx mykey <span class="string">&quot;redis&quot;</span>		<span class="comment">#mykey不存在 设置为redis	</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6279[1]&gt; setnx mykey <span class="string">&quot;666&quot;</span>		<span class="comment">#如果mykey存在，则无法设置</span></span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line"><span class="comment">##########################同时set get多个值###########################</span></span><br><span class="line">127.0.0.1:6279[1]&gt; mset k1 v1 k2 v2 k3 v3     <span class="comment">#同时设置k1 k2 k3</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6279[1]&gt; mget k1 k2 k3              <span class="comment">#同时获取</span></span><br><span class="line">1) <span class="string">&quot;v1&quot;</span></span><br><span class="line">2) <span class="string">&quot;v2&quot;</span></span><br><span class="line">3) <span class="string">&quot;v3&quot;</span></span><br><span class="line">127.0.0.1:6279[1]&gt; msetnx k1 6 k2 7 k3 8      <span class="comment">#如果不存在则同时设置</span></span><br><span class="line">(<span class="built_in">integer</span>) 0                                   <span class="comment">#返回0表示设置失败</span></span><br><span class="line">127.0.0.1:6279[1]&gt; mget k1 k2 k3              </span><br><span class="line">1) <span class="string">&quot;v1&quot;</span></span><br><span class="line">2) <span class="string">&quot;v2&quot;</span></span><br><span class="line">3) <span class="string">&quot;v3&quot;</span></span><br><span class="line">127.0.0.1:6279[1]&gt; msetnx k4 7 k5 8 k6 9       </span><br><span class="line">(<span class="built_in">integer</span>) 1									  <span class="comment">#返回1 表示设置成功		</span></span><br><span class="line">127.0.0.1:6279[1]&gt; mget k4 k5 k6</span><br><span class="line">1) <span class="string">&quot;7&quot;</span></span><br><span class="line">2) <span class="string">&quot;8&quot;</span></span><br><span class="line">3) <span class="string">&quot;9&quot;</span></span><br><span class="line">127.0.0.1:6279&gt; <span class="built_in">set</span> k1 v1						</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6279&gt; msetnx k1 v2 k2 v3				<span class="comment">#事务特性，k1失败全部失败</span></span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br></pre></td></tr></table></figure>

<h3 id="List"><a href="#List" class="headerlink" title="List"></a>List</h3><p>在redis中，可以将list当做堆、栈或者队列</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#########################放入元素#########################</span></span><br><span class="line">127.0.0.1:6279&gt; lpush list one    <span class="comment">#将一个或多个值插入队列头部（左）</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6279&gt; lpush list two</span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line">127.0.0.1:6279&gt; lpush list three</span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line">127.0.0.1:6279&gt; lrange list 0 -1   <span class="comment">#查询队列的中的全部值（从左到右）</span></span><br><span class="line">1) <span class="string">&quot;three&quot;</span></span><br><span class="line">2) <span class="string">&quot;two&quot;</span></span><br><span class="line">3) <span class="string">&quot;one&quot;</span></span><br><span class="line">127.0.0.1:6279&gt; rpush list righr   <span class="comment">#将一个或多个值插入队列尾部（右）</span></span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">127.0.0.1:6279&gt; lrange list 0 -1   <span class="comment">#查询队列的中的全部值（从左到右）</span></span><br><span class="line">1) <span class="string">&quot;three&quot;</span></span><br><span class="line">2) <span class="string">&quot;two&quot;</span></span><br><span class="line">3) <span class="string">&quot;one&quot;</span></span><br><span class="line">4) <span class="string">&quot;righr&quot;</span></span><br><span class="line"><span class="comment">#########################移除元素#########################</span></span><br><span class="line">127.0.0.1:6279&gt; lpop list          <span class="comment">#移除第一个元素（从左边）</span></span><br><span class="line"><span class="string">&quot;three&quot;</span></span><br><span class="line">127.0.0.1:6279&gt; rpop list          <span class="comment">#移除第一个元素（从右边）</span></span><br><span class="line"><span class="string">&quot;righr&quot;</span></span><br><span class="line">127.0.0.1:6279&gt; lrange list 0 -1   <span class="comment">#查询所有元素</span></span><br><span class="line">1) <span class="string">&quot;two&quot;</span></span><br><span class="line">2) <span class="string">&quot;one&quot;</span></span><br><span class="line"><span class="comment">#########################获取元素#########################</span></span><br><span class="line">lindex list 数字                        <span class="comment">#获取第n个元素（从左边）</span></span><br><span class="line">rlindex list 数字					      <span class="comment">#获取第n个元素（从右边）</span></span><br><span class="line"><span class="comment">#########################获取长度#########################</span></span><br><span class="line">llen list                              <span class="comment">#获取list长度</span></span><br><span class="line"><span class="comment">#########################移除指定元素#########################</span></span><br><span class="line">ltrim list 1  2</span><br><span class="line"><span class="comment">#########################插入元素##########################从左边截取</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>小结</p>
</blockquote>
<ul>
<li>实际是一个链表，before Node after ，left，right 都可以插入值</li>
<li>如果key不存在，创建新的链表</li>
<li>如果key存在，新增内容</li>
<li>如果移除了所有值，空链表，也代表不存在</li>
<li>在两边插入或者改动值，效率最高，中间元素，相对来说效率低</li>
</ul>
<h3 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##########################新增元素###################################</span></span><br><span class="line">127.0.0.1:6279&gt; sadd myset <span class="string">&quot;hello&quot;</span>             <span class="comment">#新增元素</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6279&gt; sadd myset <span class="string">&quot;xiaoming:</span></span><br><span class="line"><span class="string">Invalid argument(s)</span></span><br><span class="line"><span class="string">127.0.0.1:6279&gt; sadd myset &quot;</span>xiaoming<span class="string">&quot;</span></span><br><span class="line"><span class="string">(integer) 1</span></span><br><span class="line"><span class="string">127.0.0.1:6279&gt; sadd myset &quot;</span>chuiniubi<span class="string">&quot; </span></span><br><span class="line"><span class="string">(integer) 1</span></span><br><span class="line"><span class="string">127.0.0.1:6279&gt; smembers mysest                 </span></span><br><span class="line"><span class="string">(empty array)</span></span><br><span class="line"><span class="string">127.0.0.1:6279&gt; smembers myset                #展示set中所有的元素</span></span><br><span class="line"><span class="string">1) &quot;</span>xiaoming<span class="string">&quot;</span></span><br><span class="line"><span class="string">2) &quot;</span>chuiniubi<span class="string">&quot;</span></span><br><span class="line"><span class="string">3) &quot;</span>hello<span class="string">&quot;</span></span><br><span class="line"><span class="string">127.0.0.1:6279&gt; sismember myset ho            #判断一个元素是否在set中</span></span><br><span class="line"><span class="string">(integer) 0</span></span><br><span class="line"><span class="string">127.0.0.1:6279&gt; sismember myset hello</span></span><br><span class="line"><span class="string">(integer) 1</span></span><br><span class="line"><span class="string">##########################移除元素###################################</span></span><br><span class="line"><span class="string">127.0.0.1:6279&gt; smembers myset</span></span><br><span class="line"><span class="string">1) &quot;</span>xiaoming<span class="string">&quot;</span></span><br><span class="line"><span class="string">2) &quot;</span>chuiniubi<span class="string">&quot;</span></span><br><span class="line"><span class="string">3) &quot;</span>hello<span class="string">&quot;</span></span><br><span class="line"><span class="string">127.0.0.1:6279&gt; spop myset					 #随机移除元素</span></span><br><span class="line"><span class="string">&quot;</span>hello<span class="string">&quot;</span></span><br><span class="line"><span class="string">127.0.0.1:6279&gt; spop myset</span></span><br><span class="line"><span class="string">&quot;</span>xiaoming<span class="string">&quot;</span></span><br><span class="line"><span class="string">##########################并集 交集 差集################################</span></span><br><span class="line"><span class="string">127.0.0.1:6279&gt; sdiff myset myset2            #差集</span></span><br><span class="line"><span class="string">1) &quot;</span>hell<span class="string">&quot;</span></span><br><span class="line"><span class="string">2) &quot;</span>world<span class="string">&quot;</span></span><br><span class="line"><span class="string">127.0.0.1:6279&gt; sinter myset myset2			  #交集	</span></span><br><span class="line"><span class="string">(empty array)</span></span><br><span class="line"><span class="string">127.0.0.1:6279&gt; sunion myset myset2			  #并集</span></span><br><span class="line"><span class="string">1) &quot;</span>niubi<span class="string">&quot;</span></span><br><span class="line"><span class="string">2) &quot;</span>hell<span class="string">&quot;</span></span><br><span class="line"><span class="string">3) &quot;</span>world<span class="string">&quot;</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>

<h3 id="Hash"><a href="#Hash" class="headerlink" title="Hash"></a>Hash</h3><p>Map集合，key-map</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##########################存取#################################</span></span><br><span class="line">127.0.0.1:6279&gt; hset myhash name1  xiaoming       <span class="comment">#存一个值</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6279&gt; hget myhash name1					<span class="comment">#取一个值</span></span><br><span class="line"><span class="string">&quot;xiaoming&quot;</span></span><br><span class="line">127.0.0.1:6279&gt; hmset myhash name1 xiaoming name2 xiaohong     <span class="comment">#存多个值</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6279&gt; hmget myhash name1 name2			<span class="comment">#获取多个值</span></span><br><span class="line">1) <span class="string">&quot;xiaoming&quot;</span></span><br><span class="line">2) <span class="string">&quot;xiaohong&quot;</span></span><br><span class="line">127.0.0.1:6279&gt; hgetall myhash						<span class="comment">#获取全部值</span></span><br><span class="line">1) <span class="string">&quot;name1&quot;</span></span><br><span class="line">2) <span class="string">&quot;xiaoming&quot;</span></span><br><span class="line">3) <span class="string">&quot;name2&quot;</span></span><br><span class="line">4) <span class="string">&quot;xiaohong&quot;</span></span><br><span class="line">127.0.0.1:6279&gt; hlen myhash							<span class="comment">#获取hash表的字段数量</span></span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Zset（有序集合）"><a href="#Zset（有序集合）" class="headerlink" title="Zset（有序集合）"></a>Zset（有序集合）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">带score值，可以排序</span><br></pre></td></tr></table></figure>

<h4 id="……"><a href="#……" class="headerlink" title="……"></a>……</h4><h2 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h2><blockquote>
<p>本质：一组命令的集合，一个事务中的所有命令都会被序列化，在事务执行过程中，会按照顺序执行。</p>
<p>redis单条命令保存原子性，但==事务不保证原子性。==</p>
<p>==事务没有隔离级别的概念。==</p>
</blockquote>
<p>redis的事务：</p>
<ul>
<li>开启事务(multi)</li>
<li>命令入队(…..)</li>
<li>执行事务(exec)/取消事务（discard）</li>
</ul>
<blockquote>
<p>正常执行事务：</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6279&gt; multi 					<span class="comment">#开启事务</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6279(TX)&gt; <span class="built_in">set</span> k1 v1			<span class="comment">#命令入队 1</span></span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6279(TX)&gt; <span class="built_in">set</span> k2 v2			<span class="comment">#命令入队 2</span></span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6279(TX)&gt; <span class="built_in">set</span> k3 v3			<span class="comment">#命令入队 3</span></span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6279(TX)&gt; get k2				<span class="comment">#命令入队 4</span></span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6279(TX)&gt; <span class="built_in">set</span> k4 v4</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6279(TX)&gt; <span class="built_in">exec</span>				<span class="comment">#执行事务</span></span><br><span class="line">1) OK									<span class="comment">#执行结果	</span></span><br><span class="line">2) OK</span><br><span class="line">3) OK</span><br><span class="line">4) <span class="string">&quot;v2&quot;</span></span><br><span class="line">5) OK</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>==编译型异常==（代码问题！命令有错） 事务中的所有命令==都不==执行</p>
</blockquote>
<blockquote>
<p>==运行时异常==（1/0）,如果事务队列中存在语法性，那么执行的时候其他命令可以==正常执行==，错误命令抛出异常</p>
</blockquote>
<p><strong>悲观锁</strong>：总是加锁</p>
<p><strong>乐观锁</strong>：总是不加锁（使用场景秒杀）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">使用watch进行监控，如果值被其他线程修改，<span class="built_in">exec</span>执行失败的话，需要unwatch取消监控，然后重新监控重新进行执行</span><br></pre></td></tr></table></figure>

<h2 id="Jedis"><a href="#Jedis" class="headerlink" title="Jedis"></a>Jedis</h2><blockquote>
<p>使用java来操作redis，是官方推荐的java连接开发工具，使用java操作redis中间件</p>
</blockquote>
<h2 id="Springboot整合"><a href="#Springboot整合" class="headerlink" title="Springboot整合"></a>Springboot整合</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;dependency&gt;</span></span><br><span class="line">    <span class="string">&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span></span><br><span class="line">    <span class="string">&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;</span></span><br><span class="line"><span class="string">&lt;/dependency&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>Springboot2.x之后的jedis被替换为<strong>lettuce</strong>：</p>
<p>jedis：采用的直连，多线程操作不安全，如果想避免不安全，使用jedis pool连接池</p>
<p>lettuce:采用netty，实例在多线程中共享，不存在线程不安全的清空，可以减少线程数据，更像NIO模式</p>
</blockquote>
<h3 id="看源码："><a href="#看源码：" class="headerlink" title="看源码："></a><strong>看源码：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. 从自动配置入手，搜索autoconfiguration</span><br><span class="line">2. 找到以后进入spring.factories中，然后搜索redis，找到后跟踪源码，</span><br><span class="line">3. 从注解上的Redisproperties跟踪进入可以看到我们在yaml文件中能对redis进行哪些配置操作</span><br><span class="line">4. 不进入注解的话下面能看到springdata已经默认为我们生成的两个类，一个是redisTemplate，另一个stringRedisTemplate，在项目中自动注入以后可以直接使用，也可以重新进行修改</span><br></pre></td></tr></table></figure>

<h2 id="Redis-conf"><a href="#Redis-conf" class="headerlink" title="Redis.conf"></a>Redis.conf</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">###################网络配置##########################</span></span><br><span class="line"><span class="built_in">bind</span> 127.0.0.1 -::1 	<span class="comment">#绑定的ip</span></span><br><span class="line">protected-mode yes      <span class="comment">#保护模式</span></span><br><span class="line">port 6279 				<span class="comment">#端口</span></span><br><span class="line"><span class="comment">###################通用配置##########################</span></span><br><span class="line">daemonize yes			<span class="comment">#以守护进程方式运行（默认No）</span></span><br><span class="line">pidfile /var/run/redis_6379.pid   <span class="comment">#如果上面是yes，就需要指定一个pid文件</span></span><br><span class="line">logfile                 <span class="comment">#日志的文件位置名</span></span><br><span class="line">database 16             <span class="comment">#数据库的数量 默认16个</span></span><br><span class="line"><span class="comment">###################快照配置##########################</span></span><br><span class="line"><span class="comment">#可以根据需要进行自己的持久化修改</span></span><br><span class="line">在规定时间内，执行了多少次操作，则会持久化到文件 .rdb  .aof</span><br><span class="line">save 3600 1			    <span class="comment">#若3600s内至少有一个key进行了修改，则进行持久化</span></span><br><span class="line">save 300 100			<span class="comment">#..300s........100.........................</span></span><br><span class="line">save 60 10000</span><br><span class="line">stop-writes-on-bgsave-error no       <span class="comment">#如果持久化出错是否继续工作</span></span><br><span class="line">rdbcompression yes		<span class="comment">#是否压缩rdb文件</span></span><br><span class="line">dir ./					<span class="comment">#rdb文件保存的位置</span></span><br><span class="line"><span class="comment">###################安全配置##########################</span></span><br><span class="line">requirepass             <span class="comment">#是否需要密码，默认没有，一般需要设置在后面直接写就好</span></span><br><span class="line"><span class="comment">###################客户端配置##########################</span></span><br><span class="line">maxclients 10000        <span class="comment">#最大的客户端的数量</span></span><br><span class="line">maxmemory &lt;bytes&gt;       <span class="comment">#redis设置的最大内存容量</span></span><br><span class="line">maxmemory-policy noeviction <span class="comment">#内存到达上线后的处理策略</span></span><br><span class="line">		------&gt; 六大过期策略：</span><br><span class="line">		 	1.volatile-lru：只对设置了过期时间的key进行LRU（默认值） </span><br><span class="line">			2.allkeys-lru ： 删除lru算法的key   </span><br><span class="line">			3.volatile-random：随机删除即将过期key   </span><br><span class="line">			4.allkeys-random：随机删除   </span><br><span class="line">			5.volatile-ttl ： 删除即将过期的   </span><br><span class="line">			6.noeviction ： 永不过期，返回错误  </span><br><span class="line"><span class="comment">###################AOF配置##########################</span></span><br><span class="line">appendonly no						   <span class="comment">#默认aof不开启，使用rdb</span></span><br><span class="line">appendfilename <span class="string">&quot;appendonly.aof&quot;</span>		   <span class="comment">#aof文件名</span></span><br><span class="line">appendfsync everysec				   <span class="comment">#每秒同步一次（可能丢失这一秒的数据）</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Redis持久化"><a href="#Redis持久化" class="headerlink" title="Redis持久化"></a>Redis持久化</h2><h3 id="RDB（Redis-Data-Base）"><a href="#RDB（Redis-Data-Base）" class="headerlink" title="RDB（Redis Data Base）"></a>RDB（Redis Data Base）</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">1.</span> save的规则满足的情况下，会自动触发rdb规则</span><br><span class="line"><span class="bullet">2.</span> 执行flushall命令，也会触发rdb规则</span><br><span class="line"><span class="bullet">3.</span> 退出redis也会产生rrdb文件</span><br><span class="line">---&gt; 如何恢复，</span><br><span class="line"><span class="code">	将rdb文件放在redis的启动目录下，启动的时候就会自动进行恢复了。</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>优点：</strong>适合大规模的数据恢复，对数据完整性要求不高</p>
<p><strong>缺点：</strong>需要一定的时间间隔进行操作，如果意外宕机最后一次的数据就丢失了；fork进程会占用一定的内容空间。</p>
</blockquote>
<h3 id="AOF（Append-Only-File）"><a href="#AOF（Append-Only-File）" class="headerlink" title="AOF（Append Only File）"></a>AOF（Append Only File）</h3><blockquote>
<p><strong>优点</strong>：每一次修改都同步（默认每秒一次，所以有可能丢失一秒内的数据），从不同步效率最高</p>
<p><strong>缺点：</strong>相对于数据文件来说，aof远远大于rdb，修复速度也没rdb快（redis默认使用rdb）</p>
</blockquote>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><ol>
<li>RDB持久化方式能够在指定时间间隔内对你的数据进行快照存储</li>
<li>AOF持久化方式记录每次对服务器写的操作，当服务器重启的时候会重新执行这些命令来恢复原始的数据，AOF命令以Redis协议追加保存每次写的操作到文件的末尾，Redis还能对AOF文件进行后台重写（当大小超过指定大小会保存为另一个文件），使得AOF文件体积不至于过大</li>
<li>==只做缓存，如果你只希望数据在服务器运行的时候存在，可以不使用持久化==</li>
<li>同时开启两种持久化：<ul>
<li>重启的时候会优先载入aof文件来恢复数据，通常aof保存的数据比rdb要完整</li>
<li>既然优先使用aof且完整性更高，那要不要只使用aof呢？ 不要，rdb更适合于备份数据库，快速恢复数据库，开启后可用作备份手段以防万一。</li>
</ul>
</li>
<li>性能建议：<ul>
<li>因为RDB更适合做后备手段，建议只在Slave上持久化RDB文件（可以只保留save 900 1这个规则）</li>
<li>如果EnableAOF，好处是在最恶劣的情况下只丢失不超过两秒的数据，启动脚本较简单只load自己的AOF文件就可以了，代价一是带来了持续的IO，二是AOF rewrite的最后将rewrite过程中产生的新数据写到新文件造成的阻塞几乎是不可避免的。只要硬盘许可，应该尽量减少AOF rewrite的频率，AOF重写的基础大小默认是64M太小了，可以设置到5G以上，默认超过原大小100%大小  重写可以改到适当的数值。</li>
<li>如果不Enable AOF，仅靠Master-Slave Repllcation 实现高可用性也可以省掉一大笔的IO，也减少了rewrite时带来的系统波动，代价是如果Master、Slave同时倒掉，会丢失十几分钟的数据，启动脚本也要比较两个Master、Slave中的RDB文件，载入比较新的那个，微博采用的就是这种架构。</li>
</ul>
</li>
</ol>
<p>Redis发布订阅</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">分别启动两个客户端cli，一个发布，一个订阅，一边发送了另一边就可以接收到发送的消息</span><br><span class="line">cli01：   subscribe fenda					<span class="comment">#订阅一个频道</span></span><br><span class="line">cli02：	 publish   fenda   <span class="string">&quot;hi xiaohong&quot;</span>	<span class="comment">#发布一个频道和消息</span></span><br></pre></td></tr></table></figure>

<p>使用场景：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. 实时消息系统（网站的消息推送）</span><br><span class="line">2. 实时聊天（频道聊天室，将消息回显给所有人）</span><br><span class="line">3. 订阅，关注系统</span><br></pre></td></tr></table></figure>

<h2 id="Redis的主从复制："><a href="#Redis的主从复制：" class="headerlink" title="Redis的主从复制："></a>Redis的主从复制：</h2><p><strong>==数据复制是单向的，只能由主节点到从节点。Master写为主，Slave读为主。==</strong></p>
<p>且一个主节点可以有多个从节点，一个从节点只有一个主节点</p>
<blockquote>
<p><strong>优势：</strong></p>
<ol>
<li>数据冗余：主从复制实现了数据的热备份，是持久化之外的一种数据冗余方式</li>
<li>故障恢复：当主节点出现问题时，可以由从节点提供服务，实现快速的故障恢复；实际上是一种服务的冗余</li>
<li>负载均衡：在主从复制的基础上，配合读写分离，可以由主节点提供写服务，从节点提供读服务（即写redis数据时连接主节点，读时连接从节点），分担服务器负载；尤其是在写少读多的场景下，通过多个从节点提高读负载，可以大大提高redis服务器的并发量</li>
<li>高可用（集群）：除了上述作用以外，主从复制还是哨兵和集群能够实施的基础，因此说主从复制是redis高可用的基础。</li>
</ol>
</blockquote>
<blockquote>
<p><strong>使用场景分析</strong>：（一般1主3从）</p>
<ol>
<li>从结构上，单个redis服务器会发生单点故障，并且一台服务器需要处理所有的请求负载，压力较大</li>
<li>从容量上，单个redis服务器内存容量有限，就算一台Redis服务器内存容量为256G，也不能将所有内存当做redis存储内存，一般来说，==单台==redis最大使用内存==不应超过20G==</li>
</ol>
</blockquote>
<h3 id="单机环境配置"><a href="#单机环境配置" class="headerlink" title="单机环境配置"></a>单机环境配置</h3><p>只配置从库，不配置主库。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6279&gt; info replication                    <span class="comment">#查看当前库的信息</span></span><br><span class="line"><span class="comment"># Replication	</span></span><br><span class="line">role:master											<span class="comment">#角色： master			</span></span><br><span class="line">connected_slaves:0									<span class="comment"># 没有从机</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1. 将配置文件复制若干份，对其中的后台守护进程，rdb文件名，pid文件名，和端口号以及dump.rdb的名字分别进行修改，我的改成了6279  6280 6281，准备79设置为主节点其他从节点。</span><br><span class="line">2. 启动6279的服务和cli，查看info如下</span><br><span class="line">127.0.0.1:6279&gt; info replication</span><br><span class="line"><span class="comment"># Replication</span></span><br><span class="line">role:master										     <span class="comment">#角色 master</span></span><br><span class="line">connected_slaves:0									 <span class="comment">#没有从机</span></span><br><span class="line">master_failover_state:no-failover</span><br><span class="line">master_replid:91f73191336f538185625e1359b3b8dd295fa973</span><br><span class="line">master_replid2:0000000000000000000000000000000000000000</span><br><span class="line">master_repl_offset:0</span><br><span class="line">second_repl_offset:-1</span><br><span class="line">repl_backlog_active:0</span><br><span class="line">repl_backlog_size:1048576</span><br><span class="line">repl_backlog_first_byte_offset:0</span><br><span class="line">repl_backlog_histlen:0</span><br><span class="line">3. 启动所有的机器,分别不同的服务器和端口（如下）</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/03/05/971vEGO83F4PrZW.png" alt="image-20210305092438759"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">3. 启动后查看配置</span><br><span class="line">127.0.0.1:6281&gt; info replication</span><br><span class="line"><span class="comment"># Replication</span></span><br><span class="line">role:master										<span class="comment">#还没有变成从机，默认一开始都是主</span></span><br><span class="line">connected_slaves:0							</span><br><span class="line">master_failover_state:no-failover</span><br><span class="line">4. 配置</span><br></pre></td></tr></table></figure>



<h3 id="Docker搭建redis集群"><a href="#Docker搭建redis集群" class="headerlink" title="Docker搭建redis集群"></a>Docker搭建redis集群</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1. 分别创建三个容器</span></span><br><span class="line">docker run --name redis-6379 -p 6379:6379 -d redis redis-server</span><br><span class="line">docker run --name redis-6380 -p 6380:6379 -d redis redis-server</span><br><span class="line">docker run --name redis-6381 -p 6381:6379 -d redis redis-server</span><br><span class="line"><span class="comment">#2. 查看对应的容器内ip地址和端口 docker inspect 028b63e3198c</span></span><br><span class="line">172.17.0.2:6379</span><br><span class="line"><span class="comment">#3.查看它们的主从关系，命令 info replication，发现三台目前都是主</span></span><br><span class="line"><span class="comment">#4.运行80 和81的cli，将它们的主机设置为79对应的内网ip</span></span><br><span class="line"></span><br><span class="line">yb@yangbin:~$ docker <span class="built_in">exec</span> -it redis-6381 redis-cli		<span class="comment">#启动cli</span></span><br><span class="line">127.0.0.1:6379&gt; slaveof 172.17.0.2 6379 				<span class="comment">#设置它的主机是79</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; info replication						<span class="comment">#查看返回信息</span></span><br><span class="line"><span class="comment"># Replication</span></span><br><span class="line">role:slave												<span class="comment">#角色 从机</span></span><br><span class="line">master_host:172.17.0.2									<span class="comment">#主机：ip</span></span><br><span class="line">master_port:6379										<span class="comment">#主机：端口</span></span><br><span class="line">master_link_status:up									<span class="comment">#主机连接状态</span></span><br><span class="line">master_last_io_seconds_ago:5							<span class="comment">#上次通信时间：5s前</span></span><br><span class="line"></span><br><span class="line">80也使用相同方法进行配置，然后查看79的信息</span><br><span class="line">info replication</span><br><span class="line"><span class="comment"># Replication</span></span><br><span class="line">role:master												<span class="comment">#角色：踧踖</span></span><br><span class="line">connected_slaves:2										<span class="comment">#已连接从机：2台</span></span><br><span class="line">slave0:ip=172.17.0.3,port=6379,state=online,offset=266,lag=1 </span><br><span class="line">slave1:ip=172.17.0.4,port=6379,state=online,offset=266,lag=1</span><br><span class="line">master_replid:7ebe88825894f94d2458536a01831ca02367761f  </span><br><span class="line">master_replid2:0000000000000000000000000000000000000000</span><br><span class="line"></span><br><span class="line"><span class="comment">#5. 主从复制，一主二从搭建完成。</span></span><br></pre></td></tr></table></figure>

<h3 id="细节"><a href="#细节" class="headerlink" title="细节"></a>细节</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#主机写，从机读</span></span><br><span class="line">如果用从机执行<span class="built_in">set</span>命令，会报错提示 ：READONLY You can<span class="string">&#x27;t write against a read only replica.</span></span><br><span class="line"><span class="string">#主机断开，从机仍然连接，但只能读不能写</span></span><br><span class="line"><span class="string">如果使用命令行配置的主从，机器重启会全部恢复成主机，但如果重新变成从机便可以再获取值</span></span><br></pre></td></tr></table></figure>

<h3 id="主从复制原理"><a href="#主从复制原理" class="headerlink" title="主从复制原理"></a><strong>主从复制原理</strong></h3><ul>
<li>Slave启动成功连接到master后会发送一个sync的同步命令</li>
<li>Master接到命令，启动后台的存盘进程，同时收集所有接收到的用于修改数据的命令，在后台执行完毕后，master将传送整个数据文件到Slave，并完成一次完全同步</li>
<li><strong>全量复制</strong>：slave服务在接收到数据库文件数据后，将其存盘并加载到内存中</li>
<li><strong>增量复制</strong>：Master将新的修改命令依次传给slave，进行同步，一旦断开后==重==新==连==接到master就会==强制==执行一次==全量==复制。</li>
</ul>
<h3 id="哨兵模式"><a href="#哨兵模式" class="headerlink" title="哨兵模式"></a>哨兵模式</h3><p>在主从集群的基础上配置哨兵模式来进行监控和自动选主操作。</p>
<p>哨兵集群需要自己搭一下。</p>
<h2 id="缓存穿透"><a href="#缓存穿透" class="headerlink" title="缓存穿透"></a>缓存穿透</h2><p>redis缓存中没有，数据库也没有</p>
<h3 id="解决1：布隆过滤器"><a href="#解决1：布隆过滤器" class="headerlink" title="解决1：布隆过滤器"></a>解决1：布隆过滤器</h3><p>是一种数据结构，对所有可能查询的参数以hash的形式存储，在控制层先进性校验，不符合则丢弃，从而避免了对底层存储系统的查询压力。</p>
<h3 id="解决2：缓存空对象"><a href="#解决2：缓存空对象" class="headerlink" title="解决2：缓存空对象"></a>解决2：缓存空对象</h3><p>当存储层不命中后，即使返回的空对象也将其缓存起来，同时设置一个过期时间，之后再访问这个数据将会从缓存中获取，保护了后端数据源。</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">存在的问题：</span><br><span class="line"><span class="bullet">1.</span> 需要大量的空间缓存空值</span><br><span class="line"><span class="bullet">2.</span> 空值设置了过期时间，会存在一定时间缓存层和存储层数据窗口不一致，对一致性要求高的业务有影响</span><br></pre></td></tr></table></figure>

<h3 id="缓存击穿"><a href="#缓存击穿" class="headerlink" title="缓存击穿"></a>缓存击穿</h3><p>高频热点，同key一直被访问，在key过期的瞬间请求落到数据库造成崩溃。</p>
<p><strong>解决：热点key永不过期</strong></p>
<p><strong>解决2：分布式所（互斥锁）</strong></p>
<h2 id="缓存雪崩"><a href="#缓存雪崩" class="headerlink" title="缓存雪崩"></a>缓存雪崩</h2><p>请求量较大，某些key忽然过期导致请求落到数据库致使崩溃，又进一步引发大量崩溃</p>
<p><strong>解决1：redis高可用，异地多活</strong></p>
<p><strong>解决2：限流降级，缓存失效后对key加锁或限流</strong></p>
<p><strong>解决3：数据预热（访问前预加载数据到缓存中，将过期时间设置的尽量分散）</strong></p>
</div><div class="tags"><a href="/tags/redis/"><i class="fa fa-tag"></i>redis</a></div><div class="post-nav"><a class="pre" href="/2021/03/05/JucNote/">JucNote</a><a class="next" href="/2021/03/02/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F_note/">设计模式-note-needtodo</a></div><div id="disqus_thread"><div class="btn_click_load"><button class="disqus_click_btn">阅读评论（请确保 Disqus 可以正常加载）</button></div><script type="text/javascript">var disqus_config = function () {
    this.page.url = 'http://example.com/2021/03/03/RedisNote/';
    this.page.identifier = '2021/03/03/RedisNote/';
    this.page.title = 'RedisNote';
  };</script><script type="text/javascript" id="disqus-lazy-load-script">$.ajax({
url: 'https://disqus.com/next/config.json',
timeout: 2500,
type: 'GET',
success: function(){
  var d = document;
  var s = d.createElement('script');
  s.src = '//fenda.disqus.com/embed.js';
  s.setAttribute('data-timestamp', + new Date());
  (d.head || d.body).appendChild(s);
  $('.disqus_click_btn').css('display', 'none');
},
error: function() {
  $('.disqus_click_btn').css('display', 'block');
}
});</script><script type="text/javascript" id="disqus-click-load">$('.btn_click_load').click(() => {  //click to load comments
    (() => { // DON'T EDIT BELOW THIS LINE
        var d = document;
        var s = d.createElement('script');
        s.src = '//fenda.disqus.com/embed.js';
        s.setAttribute('data-timestamp', + new Date());
        (d.head || d.body).appendChild(s);
    })();
    $('.disqus_click_btn').css('display','none');
});</script><script type="text/javascript" id="disqus-count-script">$(function() {
     var xhr = new XMLHttpRequest();
     xhr.open('GET', '//disqus.com/next/config.json', true);
     xhr.timeout = 2500;
     xhr.onreadystatechange = function () {
       if (xhr.readyState === 4 && xhr.status === 200) {
         $('.post-meta .post-comments-count').show();
         var s = document.createElement('script');
         s.id = 'dsq-count-scr';
         s.src = 'https://fenda.disqus.com/count.js';
         s.async = true;
         (document.head || document.body).appendChild(s);
       }
     };
     xhr.ontimeout = function () { xhr.abort(); };
     xhr.send(null);
   });
</script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/juc/" style="font-size: 15px;">juc</a> <a href="/tags/%E5%8F%A5%E5%AD%90/" style="font-size: 25px;">句子</a> <a href="/tags/hexo/" style="font-size: 18.33px;">hexo</a> <a href="/tags/md/" style="font-size: 15px;">md</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/java8/" style="font-size: 15px;">java8</a> <a href="/tags/%E6%96%B0%E7%89%B9%E6%80%A7/" style="font-size: 15px;">新特性</a> <a href="/tags/mybatis/" style="font-size: 15px;">mybatis</a> <a href="/tags/java/" style="font-size: 21.67px;">java</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 15px;">算法</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 15px;">数据库</a> <a href="/tags/orcale/" style="font-size: 15px;">orcale</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 15px;">数据结构</a> <a href="/tags/linux/" style="font-size: 18.33px;">linux</a> <a href="/tags/%E6%97%A5%E5%BF%97/" style="font-size: 15px;">日志</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 15px;">设计模式</a> <a href="/tags/note/" style="font-size: 18.33px;">note</a> <a href="/tags/%E9%9B%86%E5%90%88/" style="font-size: 15px;">集合</a> <a href="/tags/redis/" style="font-size: 15px;">redis</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/ubuntu/" style="font-size: 15px;">ubuntu</a> <a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 15px;">博客</a> <a href="/tags/%E6%95%99%E7%A8%8B/" style="font-size: 15px;">教程</a> <a href="/tags/%E8%BD%AC%E8%BD%BD/" style="font-size: 15px;">转载</a> <a href="/tags/%E6%88%90%E9%95%BF/" style="font-size: 15px;">成长</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/03/05/JucNote/">JucNote</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/03/03/RedisNote/">RedisNote</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/03/02/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F_note/">设计模式-note-needtodo</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/03/01/dockerNote/">dockerNote</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/23/webservice%E7%AC%94%E8%AE%B0/">webservice笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/09/%E6%9F%A5%E7%9C%8B%E6%97%A5%E5%BF%97/">查看日志</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/01/31/git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">git学习笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/01/19/java8%E6%96%B0%E7%89%B9%E6%80%A7%E5%AD%A6%E4%B9%A0/">java8新特性学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/01/13/mybatis%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/">mybatis基本使用及相关注意事项</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/01/12/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%E6%80%BB%E7%BB%93/">阿里巴巴代码规范总结</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//fenda.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.baidu.com/" title="百度" target="_blank">百度</a><ul></ul><a href="http://www.bing.com/" title="必应" target="_blank">必应</a><ul></ul><a href="https://www.google.com/ncr" title="Google" target="_blank">Google</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2021 <a href="/." rel="nofollow">芬达里没有泡泡.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><link rel="stylesheet" type="text/css" href="/css/search.css?v=0.0.0"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/copycode.js" successtext="复制成功!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>